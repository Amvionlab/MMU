import{u as y,r as a,j as e,F as f,f as E,B as C,a as k,b as B}from"./index-DpzHKyVd.js";function D(){const{group:d,type:i,tag:c}=y(),[s,p]=a.useState(null),[u,l]=a.useState(!0),[x,b]=a.useState(null),[j,m]=a.useState(!1);a.useEffect(()=>{const r=decodeURIComponent(d),t=decodeURIComponent(i),n=decodeURIComponent(c),N=`${B}/backend/fetchDetailedView.php?group=${r}&type=${t}&tag=${n}`;fetch(N).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{p(o),l(!1)}).catch(o=>{console.error("Error fetching data:",o),b(o.toString()),l(!1)})},[d,i,c]);const w=()=>m(!0),g=()=>m(!1),v=()=>{const r=document.getElementById("barcode-container").innerHTML,t=window.open("","","height=400,width=600");t.document.write("<html><head><title>Print Barcode</title>"),t.document.write("</head><body >"),t.document.write(r),t.document.write("</body></html>"),t.document.close(),t.print()};if(u)return e.jsx("div",{children:"Loading..."});if(x)return e.jsxs("div",{children:["Error fetching data: ",x]});const h=r=>Object.entries(r).filter(([t])=>t!=="id"&&t!=="is_active"&&t!=="post_date").map(([t,n])=>e.jsx("div",{className:"p-4 w-full sm:w-1/2 md:w-1/3 lg:w-1/4 flex flex-col",children:e.jsxs("div",{className:"p-2 shadow cursor-pointer border hover:border-flo rounded-md transition-transform transform hover:scale-95",children:[e.jsx("h3",{className:"text-sm font-bold text-prime capitalize text-center",children:t.replace(/_/g," ")}),e.jsx("p",{className:"text-xs text-flo font-semibold m-1 text-center",children:n})]})},t));return e.jsxs("div",{className:"font-sui",children:[e.jsxs("div",{className:"flex font-bold justify-between items-center mb-3",children:[e.jsx("h1",{className:"text-lg",children:"Detailed View"}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:w,className:"flex text-xs items-center px-3 py-1 bg-box border border-gray-400 shadow-inner text-prime rounded hover:shadow-md hover:border-prime transition-transform transform mr-3",children:"View Barcode"}),e.jsxs("button",{className:"flex text-xs items-center px-3 py-1 bg-box border border-gray-400 shadow-inner text-prime rounded hover:shadow-md hover:border-prime transition-transform transform",children:[e.jsx(f,{icon:E,className:"mr-2"}),"Edit"]})]})]}),s?e.jsx("div",{className:"flex gap-1 flex-wrap",children:Array.isArray(s)?s.map((r,t)=>e.jsx("div",{className:"flex flex-wrap w-full",children:h(r)},t)):e.jsx("div",{className:"flex flex-wrap w-full",children:h(s)})}):e.jsx("div",{children:"No data available."}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-box p-3 rounded-md shadow-lg max-w-xs w-full",children:[e.jsxs("div",{id:"barcode-container",className:"text-center",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Barcode"}),s&&s.tag&&e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(C,{value:s.tag})})]}),e.jsxs("div",{className:"mt-3 flex justify-end font-semibold text-xs",children:[e.jsxs("button",{onClick:v,className:"mr-2 px-3 py-1  text-second hover:text-box  bg-prime rounded border transition-colors",children:[e.jsx(f,{icon:k,className:"mr-1"}),"Print"]}),e.jsx("button",{onClick:g,className:"px-3 py-1 bg-gray-300 text-black hover:text-box rounded hover:bg-gray-400 transition-colors",children:"Close"})]})]})})]})}export{D as default};
